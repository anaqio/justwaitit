"use client";

import { motion } from "framer-motion";

interface TypoLogoProps {
  className?: string;
  theme?: "light" | "dark";
  animate?: boolean;
}

export function TypoLogo({ className = "", theme = "dark", animate = true }: TypoLogoProps) {
  const isDark = theme === "dark";

  // SVG paths extracted from logo.svg
  const paths = {
    A1: "M 357.939,334.46 329.57,265.638 h 10.563 l 7.193,18.004 32.184,-0.004 7.918,-18 h 9.844 l -28.623,69.613 c -0.846,-0.174 -2.4,-0.097 -4.075,-0.022 v 0 c -0.926,0.043 -1.889,0.085 -2.789,0.085 v 0 c -1.805,0 -3.356,-0.171 -3.846,-0.854 m 5.251,-10.189 13.244,-32.633 H 350.88 Z",
    N: "M 50.098247,0.5350326 V 19.001185 L 36.266537,0.5350326 H 33.164915 V 24.876699 h 3.527777 V 6.4105464 L 50.524403,24.876699 h 3.101622 V 0.78691593 L 53.374495,0.5350326 Z",
    A2: "m 74.055325,0.55584649 c -0.560917,0.0264583 -1.083028,0.0529167 -1.37407,-0.008114 v 0 L 62.535719,24.876699 h 3.439936 l 2.581981,-6.2738 11.323108,-0.0762 2.623961,6.35 h 3.691467 L 76.281705,0.82501593 C 76.109902,0.5858326 75.589202,0.52656594 74.984541,0.52656594 v 0 c -0.299861,0 -0.620536,0.0144639 -0.929216,0.0292805 m 0.392289,3.63643316 4.342341,11.5121974 h -9.014883 z",
    Q: "M 106.39502,0.35441038 C 92.513924,1.2321215 91.048133,21.570113 104.14818,24.723593 v 0 l -3.18276,2.239081 c -0.40993,0.476955 0.073,0.799041 0.18274,1.262944 v 0 c 0.11042,0.07832 0.83608,-0.601486 1.04704,-0.701322 v 0 c 2.56152,-1.213556 5.38692,-0.07126 8.33438,1.071033 v 0 c 3.22545,1.250245 6.59694,2.500842 9.92717,0.662517 v 0 c 0.47095,-0.259997 2.56681,-2.026356 2.56645,-2.452158 v 0 c -3.5e-4,-0.262467 -0.40534,-0.552803 -0.59654,-0.536575 v 0 c -0.11854,0.01023 -1.44075,1.091494 -1.99249,1.297163 v 0 c -3.56835,1.331384 -8.12412,-1.64853 -11.69423,-2.010127 v 0 c -0.57009,-0.0575 -1.18216,-0.0321 -1.79458,-0.0071 v 0 c -0.55245,0.02258 -1.1049,0.04516 -1.62772,0.0071 v 0 c 0.0169,-0.236361 0.7553,-0.295628 0.93945,-0.312561 v 0 c 0.29527,-0.02716 0.59443,-0.01799 0.89076,-0.0088 v 0 c 0.31362,0.0099 0.62371,0.0194 0.92252,-0.01411 v 0 C 124.60929,23.387624 122.75051,0.32124927 107.39938,0.32230761 v 0 c -0.32843,0 -0.66393,0.0105833 -1.00436,0.0321028 m 0.0282,21.84470459 C 96.14436,21.177118 96.147182,4.6410131 105.94488,3.4080548 v 0 c 6.84989,-0.8614834 10.18681,4.2566165 10.15788,9.3750692 v 0 c -0.0272,4.735336 -2.9344,9.470672 -8.60636,9.470319 v 0 c -0.34714,0 -0.70521,-0.01799 -1.07315,-0.05433",
    I: "M 131.9329,0.5350326 V 24.876699 h 3.25649 L 135.1079,0.5350326 Z",
    O: "m 739.514,286.291 c 8.466,-23.001 40.589,-29.246 57.455,-12.009 v 0 c 18.063,18.46 10.931,52.982 -14.973,59.667 v 0 c -3.474,0.897 -6.855,1.318 -10.107,1.318 v 0 c -24.545,-0.003 -41.562,-24.016 -32.375,-48.976 m 30.417,-13.112 c -29.665,2.094 -29.995,49.916 -1.767,53.304 v 0 c 19.18,2.301 28.669,-12.135 28.625,-26.571 v 0 c -0.04,-13.406 -8.301,-26.813 -24.653,-26.812 v 0 c -0.719,0 -1.455,0.026 -2.205,0.079"
  };

  const draw: any = {
    hidden: { pathLength: 0, opacity: 0 },
    visible: (i: number) => {
      const delay = 1 + i * 0.1;
      return {
        pathLength: 1,
        opacity: 1,
        transition: {
          pathLength: { delay, type: "spring", duration: 1.5, bounce: 0 },
          opacity: { delay, duration: 0.01 }
        }
      };
    }
  };

  return (
    <svg
      viewBox="0 0 169.16947 30.483041"
      className={`${className}`}
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <defs>
        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stopColor="#3F57AF" />
          <stop offset="32%" stopColor="#484DA9" />
          <stop offset="67%" stopColor="#6049A8" />
          <stop offset="100%" stopColor="#6F47A7" />
        </linearGradient>
      </defs>

      {/* A1 */}
      <motion.path
        d={paths.A1}
        transform="matrix(0.35277777,0,0,-0.35277777,-115.89351,118.58788)"
        fill="url(#logoGradient)"
        variants={animate ? draw : {}}
        initial="hidden"
        animate="visible"
        custom={0}
      />

      {/* N */}
      <motion.path
        d={paths.N}
        fill="url(#logoGradient)"
        variants={animate ? draw : {}}
        initial="hidden"
        animate="visible"
        custom={1}
      />

      {/* A2 */}
      <motion.path
        d={paths.A2}
        fill="url(#logoGradient)"
        variants={animate ? draw : {}}
        initial="hidden"
        animate="visible"
        custom={2}
      />

      {/* Q */}
      <motion.path
        d={paths.Q}
        fill="url(#logoGradient)"
        variants={animate ? draw : {}}
        initial="hidden"
        animate="visible"
        custom={3}
      />

      {/* I */}
      <motion.path
        d={paths.I}
        fill="url(#logoGradient)"
        variants={animate ? draw : {}}
        initial="hidden"
        animate="visible"
        custom={4}
      />

      {/* O - The Moon/Sun */}
      <motion.g
        transform="matrix(0.35277777,0,0,-0.35277777,-115.89351,118.58788)"
        initial={false}
        animate={isDark ? "moon" : "sun"}
      >
        {/* Main O path */}
        <motion.path
          d={paths.O}
          fill="url(#logoGradient)"
          variants={animate ? draw : {}}
          initial="hidden"
          animate="visible"
          custom={5}
        />

        {/* Sun rays or Moon details could go here */}
        {!isDark && (
          <motion.g
            initial={{ opacity: 0, scale: 0 }}
            animate={{ opacity: 1, scale: 1 }}
            transition={{ delay: 1.8, duration: 0.5 }}
          >
            {[0, 45, 90, 135, 180, 225, 270, 315].map((angle, i) => (
              <motion.rect
                key={i}
                x="765.5"
                y="260"
                width="4"
                height="12"
                rx="2"
                fill="url(#logoGradient)"
                style={{ originX: "767.5px", originY: "300px", rotate: angle }}
              />
            ))}
          </motion.g>
        )}
      </motion.g>
    </svg>
  );
}
